# 지원자가 과제에 대해 직접 작성하는 내용입니다.

## 🛠 기술 스택

> 프로젝트에서 사용한 기술들을 아래 표에 작성해주세요.

| 구분               | 선택한 기술                    | 버전            | 선택 이유                                      |
| ------------------ | ------------------------------ | --------------- | ---------------------------------------------- |
| **프레임워크**     | Next.js + React                | 15.3.4 + 19.0.0 | 과제 요구사항                                  |
| **상태 관리**      | zustand                        | ^5.0.6          | 전역 UI 상태 관리                              |
| **폼 관리**        | react-hook-form                | ^7.59.0         | 폼 데이터 처리 및 validation                   |
| **스타일링**       | vanilla-extract                | ^1.17.4         | CSS-in-JS의 타입 안전성 및 제로 런타임 성능    |
| **빌드 도구**      | Turborepo + pnpm               | latest          | monorepo 관리 효율성, 빠른 의존성 설치         |
| **코드 품질 관리** | TypeScript + ESLint + Prettier |                 | 타입 안전성, 코딩 컨벤션 통일, auto formatting |
| **API 통신**       | React Query + GitHub API       | ^5.81.5         | 서버 상태 관리, 캐싱, 에러 처리 최적화 용도    |
| **아키텍처**       | Feature-Sliced Design (FSD)    |                 | 확장 가능한 구조, 관심사 분리                  |

---

## 📋 구현 완료 기능

> 아래 체크박스를 통해 구현 완료한 기능들을 표시해주세요.
>
> (요구사항을 모두 구현하는 것이 평가 기준은 아니며, 필수 요구사항을 모두 구현하지 못해도 추가 요구사항을 구현할 수 있습니다.)

### ✅ 필수 요구사항

- [x] 기본 페이지 및 레이아웃 구성
- [x] 공통 > 모달
- [x] 공통 > 페이지네이션
- [x] 홈 페이지 > 기본
- [x] 서비스 게시판 > 기본
- [x] 서비스 게시판 > 게시글 더보기 액션
- [x] 서비스 게시판 > 게시글 UI 타입 변경
- [x] 서비스 게시판 > 게시글 상세
- [x] 서비스 게시판 > 게시글 등록 및 수정

### 🎯 추가 요구사항

- [x] 게시글 작성 중, 페이지 이동
- [ ] 도커 설정
- [ ] Module Federation 적용

---

## 💡 주요 구현 내용

> 각 페이지별로 구현한 기능과 기술적 고려사항을 설명해주세요.

### 1. 기본 페이지 및 레이아웃

- **홈페이지 구현**:

  - 과제 이미지 4개를 반응형 2x2 그리드로 배치
  - localStorage 값과 연동하여 순서 배치 변경
  - zustand persist + onRehydrateStorage로 SSR/CSR 상태 동기화
  - react-loading-skeleton으로 이미지 로딩 전 스켈레톤 UI 표시
  - Next.js Image 컴포넌트 활용, 적절한 sizes 속성으로 성능 최적화
  - 의미있는 alt 텍스트 및 적절한 aspectRatio 설정

- **레이아웃 구현시에 고려사항**:
  - FSD 아키텍처에 따른 위젯 레이어 구성
  - 클라이언트/서버 컴포넌트 적절한 분리
  - 테마 기반 스타일링 (라이트 테마)
  - 디자인 토큰을 통한 일관된 스타일 관리
  - contract.css.ts를 통한 테마 타입 안정성 확보

### 2. 공통 컴포넌트

- **모달**:
  - zustand를 활용한 전역 모달 상태 관리
  - 브라우저 뒤로가기와 모달 상태 동기화 처리
  - 다중 모달 지원 (모달 스택 관리)
  - 모달 외부 영역 클릭 및 ESC 키 이벤트 처리
- **페이지네이션**:
  - 동적 페이지 범위 계산 (현재 페이지 기준 좌우 표시)
  - 처음/끝 페이지 바로가기 지원
  - 페이지 이동 시 스크롤 위치 유지
  - 반응형 디자인 적용

### 3. 서비스 게시판

- **게시글 목록**:
  - React Query를 활용한 서버 상태 관리 및 캐싱 (optimistic update)
  - 리스트뷰/카드뷰 전환 기능 (ViewTypeSelector)
  - 제목 기반 검색 기능 구현
  - StateDisplay 컴포넌트를 통한 다양한 상태 표시 (로딩/검색 결과 없음)
  - closed 상태의 이슈 제외 처리
- **게시글 상세**:
  - 동적 라우팅을 통한 상세 페이지 구현
  - 수정/삭제 기능 제공
  - 삭제 시 확인 모달 표시
  - 삭제 시 목록 데이터 최적화 업데이트 (캐시 데이터 직접 수정)
  - 수정 시 관련 캐시 무효화
- **게시글 등록/수정**:
  - react-hook-form과 zod를 활용한 폼 유효성 검사
  - 페이지 이탈 방지 기능 구현 (usePreventPageLeave)
  - 수정 시 기존 데이터 자동 입력
  - 성공/실패 시 토스트 메시지 표시
  - GitHub API를 통한 이슈 생성/수정 연동
  - 등록/수정 완료 후 자동 페이지 이동

### 4. 추가 요구사항

- **게시글 작성 중 페이지 이동 방지**:
  - `usePreventPageLeave` 커스텀 훅 구현
    - 브라우저의 뒤로가기/앞으로가기 제어
    - 폼 데이터 변경 감지 (`isDirty` 상태 활용)
    - 제출 중 상태 처리 (`isSubmitting` 상태 관리)
    - 성공 시 페이지 이동 허용 (`allowNavigate` 플래그 활용)

---

## ⚠️ 개발 과정에서 겪은 이슈와 해결 방법

> 개발 중 발생한 문제들과 해결 과정을 기록해주세요.

| 문제 상황                                 | 원인 분석                                                                                                                        | 해결 방법                                                                                                                         | 학습 내용                                                                                                     |
| ----------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------- |
| 환경 변수 클라이언트 노출                 | .env.sample에 NEXT_PUBLIC prefix 사용으로 되어 있는 환경변수가 있었음                                                            | 서버 전용 환경 변수로 변경                                                                                                        | Next.js 환경 변수 보안 패턴 준수                                                                              |
| 프로젝트 설계 구조 변경                   | 초기에 packages/ 폴더에 모든 기능을 분리하려 시도했지만 오버엔지니어링 발생                                                      | 프로젝트에 맞는 단순화된 FSD 구조를 사용                                                                                          | 확장 가능하면서도 현재 규모에 적합한 구조 설계의 중요성을 고민                                                |
| 공통 모달로 브라우저 뒤로가기 컨트롤 이슈 | 1. 브라우저의 history 스택과 모달의 상태 관리가 동기화되지 않음<br>2. 뒤로가기 시 모달이 닫히면서 history 이벤트가 한 번 더 발생 | 1. hasHistoryBack 플래그를 사용하여 history.back() 두 번 호출<br>2. 첫 번째는 추가된 history 제거용, 두 번째는 실제 페이지 이동용 | 브라우저 얼럿이 아닌 모달 상태와 브라우저 네비게이션 이벤트의 동기화 패턴 학습                                |
| home 화면 hydration 에러                  | localStorage를 사용하는 zustand store로 인해 서버와 클라이언트의 초기 렌더링 불일치                                              | zustand persist 미들웨어와 onRehydrateStorage 콜백을 활용하여 hydration 완료 시점 감지 및 안전한 상태 동기화                      | SSR 환경에서 localStorage 사용 시 hydration 안전성 확보 방법과 사용자 경험을 고려한 스켈레톤 UI 적용의 중요성 |

---

## ▶ 실행 방법

> 프로젝트 실행을 위한 명령어를 작성해주세요.

### 1. 환경 설정

```bash
# 1. Node.js 설치 (v18 이상)
node -v  # v18.0.0 이상

# 2. pnpm 설치
npm install -g pnpm

# 3. 환경 변수 설정
cp .env.sample .env
# .env 파일에 필요한 환경 변수 설정
# - GITHUB_TOKEN=<your_github_token>
# - GITHUB_REPO_OWNER=<owner>
# - GITHUB_REPO_NAME=<repo>
```

### 2. 프로젝트 설치 및 실행

```bash
# 1. 프로젝트 의존성 설치
pnpm install

# 2. 빌드
pnpm build

# 3. 개발 서버 실행
pnpm dev

```

**접속 URL**: http://localhost:3000

**참고사항**:

- Node.js 최소 18 이상 버전이 필요합니다.
- GitHub API 사용을 위해 유효한 GitHub 토큰이 필요합니다.
- 환경 변수 설정이 올바르지 않으면 API 호출이 실패할 수 있습니다.

---

## 📝 추가 설명

> 구현 과정에서 특별히 고민했던 부분이나 추가로 구현하고 싶었던 기능이 있다면 여기에 작성해주세요.

** 고민했던 부분 **

- FSD 아키텍처 적용 : 프로젝트 규모에 맞게 간소화된 FSD 레이어 구조를 사용했습니다. (features, widget, shared)
- 환경 변수 보안 : "NEXT*PUBLIC*" 의 접두사를 제거하여 서버 전용 환경 변수 관리로 변경했습니다.
- Monorepo 설정 : Turborepo + pnpm을 기반으로 효율적인 빌드 환경을 구축했습니다.
- 과도한 엔지니어링 지양 : 해당 과제에 대한 초기 아키텍처를 설계하면서 적정한 기술 수준은 무엇일까 고민했습니다.
- 확장성을 가지는 구조 : 쿼리 키 팩토리로 react-query의 캐시 관리를 일원화 했습니다. 또한 FSD 구조 도입으로 향후 packages 폴더로 마이그레이션에 용이하도록 설계했습니다.
- 디자인 시스템 구현 : 디자이너가 없는 상태에서의 과제도 공통 컴포넌트부터 컬러 토큰 그리고 테마 구성까지 디자인 시스템 구현의 베이스를 설계했습니다.

** 추가로 구현하고 싶은 것 **

- storybook 세팅을 했다면 공통 컴포넌트 테스트를 쉽게 했을 것 같다.

---

## 🤖 AI 활용 내역

> 과제 진행 시 AI 도구를 활용했다면, 어떤 AI를 사용했는지와 어떻게 활용했는지 작성해주세요.

- **활용한 AI**:
  ChatGPT, intelij copliot
- **활용 방법**:
- 나의 설계 논리 점검
- monorepo 구성시에 폴더 관리 체계 파악
- 현재 프로젝트 구조에 알맞으면서 확장성 있는 구조에 대한 설계 탐색
- 초기 디자인 설계시에 필요한 컬러 셋 받기
- 과제 스케줄 관리
- 컴포넌트 크기 및 배치등에 대한 베이스 디자인

---

## 🔗 참고 자료

> 구현 과정에서 참고한 자료가 있다면 여기에 작성해주세요.

- https://github.com/octokit/plugin-rest-endpoint-methods.js/blob/main/docs/search/issuesAndPullRequests.md
